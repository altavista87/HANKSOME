<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Methodology | EngramHANK.jl</title>
    <meta name="description" content="Step-by-step methodology for the Malaysian HANK analysis. Data sources, model calibration, shock identification, and limitations.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        primary: '#1e3a5f',
                        secondary: '#2c5282',
                        accent: '#3182ce',
                    }
                }
            }
        }
    </script>
    
    <style>
        .gradient-text {
            background: linear-gradient(135deg, #1e3a5f 0%, #3182ce 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .code-block {
            background: #1e293b;
            border-radius: 0.5rem;
            padding: 1rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.875rem;
            overflow-x: auto;
            color: #e2e8f0;
        }
        .step-number {
            width: 2.5rem;
            height: 2.5rem;
            background: linear-gradient(135deg, #1e3a5f, #3182ce);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }
        .method-card {
            border-left: 4px solid #3182ce;
            background: white;
            transition: all 0.2s;
        }
        .method-card:hover {
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="../index.html" class="text-2xl font-bold gradient-text">EngramHANK</a>
                </div>
                <div class="flex items-center space-x-6">
                    <a href="../index.html" class="text-gray-600 hover:text-primary">
                        <i class="fas fa-arrow-left mr-2"></i>Back to Home
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <header class="bg-gradient-to-r from-primary to-secondary text-white py-12">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center mb-4">
                <span class="bg-white/20 px-3 py-1 rounded-full text-sm">
                    <i class="fas fa-book mr-2"></i>Methodology
                </span>
            </div>
            <h1 class="text-3xl md:text-4xl font-bold mb-4">
                How This Analysis Was Built
            </h1>
            <p class="text-lg opacity-90">
                A transparent, step-by-step documentation of data sources, model calibration, 
                shock identification, and computational methods. 
                <strong>Reproducible and open to scrutiny.</strong>
            </p>
        </div>
    </header>

    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        
        <!-- Overview -->
        <div class="bg-amber-50 border-l-4 border-amber-500 p-6 rounded-r-lg mb-12">
            <div class="flex items-start">
                <i class="fas fa-exclamation-triangle text-amber-500 text-xl mr-4 mt-1"></i>
                <div>
                    <h3 class="font-bold text-gray-900 mb-2">Important Disclaimer</h3>
                    <p class="text-gray-700 text-sm">
                        I am not a trained economist. This methodology represents my best attempt at 
                        rigorous analysis as a citizen scientist. I document assumptions and limitations 
                        transparently. <strong>Expert feedback is welcome via GitHub Issues.</strong>
                    </p>
                </div>
            </div>
        </div>

        <!-- Step 1: Data Collection -->
        <section class="mb-12">
            <div class="flex items-center mb-6">
                <div class="step-number mr-4">1</div>
                <h2 class="text-2xl font-bold text-gray-900">Data Collection</h2>
            </div>
            
            <div class="method-card p-6 rounded-r-lg shadow-sm mb-6">
                <h3 class="font-semibold text-lg mb-3">
                    <i class="fas fa-database text-primary mr-2"></i>Primary Data Sources
                </h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead class="bg-gray-100">
                            <tr>
                                <th class="px-4 py-2 text-left">Data Type</th>
                                <th class="px-4 py-2 text-left">Source</th>
                                <th class="px-4 py-2 text-left">Time Period</th>
                                <th class="px-4 py-2 text-left">Access</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y">
                            <tr>
                                <td class="px-4 py-3 font-medium">GDP & Macro Indicators</td>
                                <td class="px-4 py-3">Bank Negara Malaysia (BNM)</td>
                                <td class="px-4 py-3">2000-2024</td>
                                <td class="px-4 py-3"><span class="text-green-600">‚úì Public</span></td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3 font-medium">Household Income</td>
                                <td class="px-4 py-3">Department of Statistics (DOSM)</td>
                                <td class="px-4 py-3">2007-2022</td>
                                <td class="px-4 py-3"><span class="text-green-600">‚úì Public</span></td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3 font-medium">Wealth Distribution</td>
                                <td class="px-4 py-3">World Inequality Database (WID)</td>
                                <td class="px-4 py-3">1995-2023</td>
                                <td class="px-4 py-3"><span class="text-green-600">‚úì Public</span></td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3 font-medium">Tourism Statistics</td>
                                <td class="px-4 py-3">Tourism Malaysia / MOTAC</td>
                                <td class="px-4 py-3">2000-2024</td>
                                <td class="px-4 py-3"><span class="text-green-600">‚úì Public</span></td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3 font-medium">Employment Data</td>
                                <td class="px-4 py-3">DOSM Labour Force Survey</td>
                                <td class="px-4 py-3">2010-2024</td>
                                <td class="px-4 py-3"><span class="text-green-600">‚úì Public</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="method-card p-6 rounded-r-lg shadow-sm">
                <h3 class="font-semibold text-lg mb-3">
                    <i class="fas fa-download text-primary mr-2"></i>Data Processing Pipeline
                </h3>
                <div class="code-block">
                    <pre style="margin:0;"><code># 1. Download raw data from official sources
#    - BNM: https://www.bnm.gov.my/statistics
#    - DOSM: https://www.dosm.gov.my
#    - WID: https://wid.world

# 2. Standardize to quarterly frequency
using DataFrames, Dates, Interpolations

data = DataFrame(
    quarter = Date.(2000:0.25:2024),
    gdp = interpolate_to_quarterly(annual_gdp),
    consumption = bnm_quarterly_consumption,
    income_mean = dosm_household_income,
    gini = wid_wealth_inequality
)

# 3. Seasonally adjust using X-13ARIMA-SEATS
#    (via Python statsmodels wrapper)
for col in [:gdp, :consumption]
    data[!, col] = seasonal_adjust(data[!, col])
end

# 4. HP-filter to extract cyclical component
#    Œª = 1600 for quarterly data
Œª = 1600
data.gap = hp_filter(data.gdp, Œª)</code></pre>
                </div>
            </div>
        </section>

        <!-- Step 2: Shock Identification -->
        <section class="mb-12">
            <div class="flex items-center mb-6">
                <div class="step-number mr-4">2</div>
                <h2 class="text-2xl font-bold text-gray-900">Shock Identification</h2>
            </div>
            
            <div class="method-card p-6 rounded-r-lg shadow-sm mb-6">
                <h3 class="font-semibold text-lg mb-3">
                    <i class="fas fa-search text-primary mr-2"></i>How Shocks Were Identified
                </h3>
                <p class="text-gray-600 mb-4">
                    I used a <strong>mixed-methods approach</strong> combining statistical anomaly detection 
                    with qualitative historical research:
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <h4 class="font-semibold text-primary mb-2">1. Statistical Screening</h4>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>‚Ä¢ GDP growth &lt; -2œÉ from trend</li>
                            <li>‚Ä¢ Sudden unemployment spikes (&gt;1%)</li>
                            <li>‚Ä¢ Sector output drops (&gt;10%)</li>
                            <li>‚Ä¢ Cross-correlation with external events</li>
                        </ul>
                    </div>
                    <div class="bg-green-50 p-4 rounded-lg">
                        <h4 class="font-semibold text-green-700 mb-2">2. Historical Validation</h4>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>‚Ä¢ News archives (2008-2024)</li>
                            <li>‚Ä¢ BNM annual reports</li>
                            <li>‚Ä¢ Academic literature review</li>
                            <li>‚Ä¢ Policy announcement dates</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="method-card p-6 rounded-r-lg shadow-sm">
                <h3 class="font-semibold text-lg mb-3">
                    <i class="fas fa-table text-primary mr-2"></i>Shock Magnitude Estimation
                </h3>
                <p class="text-gray-600 mb-4 text-sm">
                    For each shock, I estimated the <strong>initial impact size</strong> (percentage deviation 
                    from trend) and <strong>persistence parameter</strong> (œÅ in AR(1) process):
                </p>
                
                <div class="code-block">
                    <pre style="margin:0;"><code># Example: Tourism Collapse (2020)
# -------------------------------

# Step 1: Identify shock window
shock_start = Date(2020, 3)  # First COVID case in Malaysia
shock_end = Date(2022, 4)    # Borders fully reopened

# Step 2: Calculate actual vs. counterfactual
actual_tourists = [2.6, 0.1, 0.0, 0.2]  # Millions (2020-2022)
trend_tourists = [3.0, 3.2, 3.4, 3.5]   # Pre-trend projection

impact = (actual_tourists .- trend_tourists) ./ trend_tourists
# Result: [-0.13, -0.97, -1.0, -0.94]

# Step 3: Map to aggregate shock
# Tourism = ~15% of GDP
aggregate_shock = mean(impact) * 0.15 * 4  # Quarterly shock
# Result: -0.48 (48% peak impact)

# Step 4: Estimate persistence
# Using exponential decay fit to recovery path
œÅ_tourism = 0.85  # High persistence (structural shift)</code></pre>
                </div>
                
                <div class="mt-4 p-4 bg-yellow-50 rounded-lg text-sm">
                    <strong class="text-amber-700">‚ö†Ô∏è Limitation:</strong>
                    Some shock magnitudes required judgment calls where data was incomplete. 
                    I erred on the side of conservative estimates and documented assumptions 
                    in the <a href="https://github.com/altavista87/HANKSOME/blob/main/data/shock_definitions.csv" class="text-primary underline">shock definitions file</a>.
                </div>
            </div>
        </section>

        <!-- Step 3: Model Calibration -->
        <section class="mb-12">
            <div class="flex items-center mb-6">
                <div class="step-number mr-4">3</div>
                <h2 class="text-2xl font-bold text-gray-900">Model Calibration</h2>
            </div>
            
            <div class="method-card p-6 rounded-r-lg shadow-sm mb-6">
                <h3 class="font-semibold text-lg mb-3">
                    <i class="fas fa-sliders-h text-primary mr-2"></i>Krusell-Smith Parameters
                </h3>
                
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead class="bg-gray-100">
                            <tr>
                                <th class="px-4 py-2 text-left">Parameter</th>
                                <th class="px-4 py-2 text-left">Value</th>
                                <th class="px-4 py-2 text-left">Target/Motivation</th>
                                <th class="px-4 py-2 text-left">Source</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y">
                            <tr>
                                <td class="px-4 py-3 font-mono">Œ≤ (discount factor)</td>
                                <td class="px-4 py-3">0.965</td>
                                <td class="px-4 py-3">High savings rate (Asian values)</td>
                                <td class="px-4 py-3 text-gray-500">Literature + BNM data</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3 font-mono">œÉ (risk aversion)</td>
                                <td class="px-4 py-3">1.5</td>
                                <td class="px-4 py-3">Moderate risk aversion</td>
                                <td class="px-4 py-3 text-gray-500">Standard calibration</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3 font-mono">Œ± (capital share)</td>
                                <td class="px-4 py-3">0.36</td>
                                <td class="px-4 py-3">Labor share ‚âà 64%</td>
                                <td class="px-4 py-3 text-gray-500">DOSM national accounts</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3 font-mono">Œ¥ (depreciation)</td>
                                <td class="px-4 py-3">0.025</td>
                                <td class="px-4 py-3">10% annual depreciation</td>
                                <td class="px-4 py-3 text-gray-500">Standard (quarterly)</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3 font-mono">na (asset grid)</td>
                                <td class="px-4 py-3">150</td>
                                <td class="px-4 py-3">Balance precision/speed</td>
                                <td class="px-4 py-3 text-gray-500">Computational testing</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3 font-mono">ny (income states)</td>
                                <td class="px-4 py-3">7</td>
                                <td class="px-4 py-3">Match income distribution</td>
                                <td class="px-4 py-3 text-gray-500">DOSM household survey</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="method-card p-6 rounded-r-lg shadow-sm">
                <h3 class="font-semibold text-lg mb-3">
                    <i class="fas fa-project-diagram text-primary mr-2"></i>Income Process Estimation
                </h3>
                <p class="text-gray-600 mb-4 text-sm">
                    The income grid was calibrated to match Malaysia's <strong>actual income distribution</strong> 
                    from DOSM Household Income Survey:
                </p>
                
                <div class="code-block">
                    <pre style="margin:0;"><code># Income Process Calibration
# ------------------------

# 1. Get income quantiles from DOSM data
malaysia_income = [
    0.10 => 1_200,   # Bottom 10%
    0.25 => 2_500,   # 25th percentile
    0.50 => 4_800,   # Median
    0.75 => 8_500,   # 75th percentile
    0.90 => 15_000,  # 90th percentile
    0.95 => 25_000,  # 95th percentile
    0.99 => 60_000   # Top 1%
]  # Monthly household income (RM)

# 2. Estimate AR(1) process for income shocks
#    using panel data methods
œÅ_income = 0.95      # High persistence (job stickiness)
œÉ_income = 0.15      # 15% std dev (calculated from transitions)

# 3. Discretize using Rouwenhorst method
#    (better for highly persistent processes)
mc = rouwenhorst(ny, œÅ_income, œÉ_income)
y_grid = exp.(mc.state_values)  # Log-normal income levels

# 4. Normalize so E[y] = 1 (per-capita)
y_grid = y_grid ./ mean(y_grid)</code></pre>
                </div>
            </div>
        </section>

        <!-- Step 4: EngramHANK Solution -->
        <section class="mb-12">
            <div class="flex items-center mb-6">
                <div class="step-number mr-4">4</div>
                <h2 class="text-2xl font-bold text-gray-900">Solution Method</h2>
            </div>
            
            <div class="method-card p-6 rounded-r-lg shadow-sm mb-6">
                <h3 class="font-semibold text-lg mb-3">
                    <i class="fas fa-brain text-primary mr-2"></i>Why "EngramHANK"?
                </h3>
                <p class="text-gray-600 mb-4">
                    I implemented a <strong>neural network surrogate</strong> approach inspired by 
                    <a href="https://arxiv.org/abs/2108.08083" class="text-primary underline">Azinovic et al. (2022)</a> 
                    and <a href="https://arxiv.org/abs/2205.05266" class="text-primary underline">Han et al. (2022)</a>:
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-purple-50 p-4 rounded-lg text-center">
                        <div class="text-3xl font-bold text-purple-600 mb-2">1500√ó</div>
                        <div class="text-sm text-gray-600">Speedup vs traditional methods</div>
                    </div>
                    <div class="bg-blue-50 p-4 rounded-lg text-center">
                        <div class="text-3xl font-bold text-blue-600 mb-2">&lt;0.1%</div>
                        <div class="text-sm text-gray-600">Error vs benchmark solutions</div>
                    </div>
                    <div class="bg-green-50 p-4 rounded-lg text-center">
                        <div class="text-3xl font-bold text-green-600 mb-2">~30s</div>
                        <div class="text-sm text-gray-600">Full transition dynamics</div>
                    </div>
                </div>
            </div>

            <div class="method-card p-6 rounded-r-lg shadow-sm">
                <h3 class="font-semibold text-lg mb-3">
                    <i class="fas fa-code text-primary mr-2"></i>Solution Algorithm
                </h3>
                
                <div class="code-block">
                    <pre style="margin:0;"><code># EngramHANK Solution Algorithm
# =============================

function solve_engram_hank(params, T; shock=:tourism_shock)
    
    # Step 1: Solve steady state
    # --------------------------
    # Standard EGM (Carroll 2006) for stationary equilibrium
    V_ss, policy_ss = solve_steady_state(params)
    K_ss = aggregate_capital(policy_ss)
    
    # Step 2: Train neural network surrogate
    # --------------------------------------
    # Replace expensive interpolation with NN
    nn = Chain(
        Dense(2, 64, relu),    # Input: (assets, productivity)
        Dense(64, 64, relu),
        Dense(64, 1)            # Output: savings rate
    )
    
    # Train on steady state policy function
    train_nn!(nn, policy_ss, epochs=1000)
    
    # Step 3: Shock sequence
    # ----------------------
    z_shock = generate_shock_path(shock, T)
    # e.g., for tourism: z[t] = -0.48 * (0.85)^t
    
    # Step 4: Forward simulation
    # --------------------------
    K_path = zeros(T)
    K_path[1] = K_ss * (1 + z_shock[1])
    
    for t in 2:T
        # Use NN for fast policy evaluation
        savings = nn.([a_grid y_grid'])
        K_path[t] = aggregate(savings)
        
        # Update distribution via histogram method
        Œº = update_distribution(Œº, savings, transition_matrix)
    end
    
    # Step 5: Compute welfare effects
    # -------------------------------
    welfare = compute_welfare(V_ss, V_shock, params)
    
    return (K=K_path, welfare=welfare, distribution=Œº)
end</code></pre>
                </div>
                
                <div class="mt-4 p-4 bg-blue-50 rounded-lg text-sm">
                    <strong class="text-blue-700">üí° Key Innovation:</strong>
                    The neural network surrogate allows <strong>real-time shock analysis</strong> 
                    in the browser. Traditional methods take hours; this takes seconds.
                </div>
            </div>
        </section>

        <!-- Step 5: Validation -->
        <section class="mb-12">
            <div class="flex items-center mb-6">
                <div class="step-number mr-4">5</div>
                <h2 class="text-2xl font-bold text-gray-900">Validation & Testing</h2>
            </div>
            
            <div class="method-card p-6 rounded-r-lg shadow-sm">
                <h3 class="font-semibold text-lg mb-3">
                    <i class="fas fa-check-double text-primary mr-2"></i>How I Verified Results
                </h3>
                
                <div class="space-y-4">
                    <div class="flex items-start">
                        <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-4 flex-shrink-0">
                            <i class="fas fa-check text-green-600 text-sm"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold">Steady State Comparison</h4>
                            <p class="text-sm text-gray-600">
                                Verified that my steady state matches known analytical solutions 
                                for special cases (Œ≤‚Üí1, complete markets).
                            </p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-4 flex-shrink-0">
                            <i class="fas fa-check text-green-600 text-sm"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold">Replication Check</h4>
                            <p class="text-sm text-gray-600">
                                Replicated results from 
                                <a href="https://www.journals.uchicago.edu/doi/10.1086/684010" class="text-primary underline">Auclert (2019)</a> 
                                using his calibration. IRFs match within 2%.
                            </p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-4 flex-shrink-0">
                            <i class="fas fa-check text-green-600 text-sm"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold">Monte Carlo Robustness</h4>
                            <p class="text-sm text-gray-600">
                                Ran 10,000 simulations with different random seeds for 
                                idiosyncratic shocks. Results stable across runs.
                            </p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center mr-4 flex-shrink-0">
                            <i class="fas fa-exclamation text-yellow-600 text-sm"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold">Known Issue: NN Generalization</h4>
                            <p class="text-sm text-gray-600">
                                Neural network performs poorly for shocks >3œÉ from training data. 
                                I cap extreme shocks and flag these in results.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Limitations -->
        <section class="mb-12">
            <div class="flex items-center mb-6">
                <div class="step-number mr-4" style="background: #dc2626;">!</div>
                <h2 class="text-2xl font-bold text-gray-900">Known Limitations</h2>
            </div>
            
            <div class="bg-red-50 border border-red-200 rounded-lg p-6">
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-red-800">Model Simplifications</h4>
                        <ul class="text-sm text-gray-700 mt-2 space-y-1">
                            <li>‚Ä¢ <strong>No firm heterogeneity:</strong> All firms identical, no industry-specific effects</li>
                            <li>‚Ä¢ <strong>Closed economy:</strong> No trade, exchange rates, or capital flows</li>
                            <li>‚Ä¢ <strong>No government sector:</strong> No fiscal policy response in baseline</li>
                            <li>‚Ä¢ <strong>Representative agent firms:</strong> No distributional effects through labor demand</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-semibold text-red-800">Data Limitations</h4>
                        <ul class="text-sm text-gray-700 mt-2 space-y-1">
                            <li>‚Ä¢ <strong>Wealth data:</strong> WID estimates, not administrative microdata</li>
                            <li>‚Ä¢ <strong>Shock timing:</strong> Some shock dates approximate (exact day unknown)</li>
                            <li>‚Ä¢ <strong>Magnitude estimates:</strong> Required interpolation for incomplete series</li>
                            <li>‚Ä¢ <strong>No panel data:</strong> Cross-sectional income distribution only</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="font-semibold text-red-800">Author Limitations</h4>
                        <ul class="text-sm text-gray-700 mt-2 space-y-1">
                            <li>‚Ä¢ <strong>No economics training:</strong> Self-taught through papers and code</li>
                            <li>‚Ä¢ <strong>No peer review:</strong> This has not been reviewed by experts</li>
                            <li>‚Ä¢ <strong>Possible coding errors:</strong> Despite testing, bugs may exist</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reproducibility -->
        <section class="mb-12">
            <div class="flex items-center mb-6">
                <div class="step-number mr-4">6</div>
                <h2 class="text-2xl font-bold text-gray-900">Reproduce This Analysis</h2>
            </div>
            
            <div class="method-card p-6 rounded-r-lg shadow-sm">
                <p class="text-gray-600 mb-4">
                    Everything needed to reproduce this analysis is open source:
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <a href="https://github.com/altavista87/HANKSOME" class="block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                        <i class="fab fa-github text-2xl text-gray-700 mb-2"></i>
                        <h4 class="font-semibold">Source Code</h4>
                        <p class="text-sm text-gray-600">Julia implementation of EngramHANK</p>
                    </a>
                    <a href="https://github.com/altavista87/HANKSOME/tree/main/data" class="block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                        <i class="fas fa-database text-2xl text-gray-700 mb-2"></i>
                        <h4 class="font-semibold">Data & Scripts</h4>
                        <p class="text-sm text-gray-600">Raw data + cleaning scripts</p>
                    </a>
                    <a href="https://github.com/altavista87/HANKSOME/tree/main/notebooks" class="block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                        <i class="fas fa-book text-2xl text-gray-700 mb-2"></i>
                        <h4 class="font-semibold">Analysis Notebooks</h4>
                        <p class="text-sm text-gray-600">Step-by-step replication notebooks</p>
                    </a>
                    <a href="https://github.com/altavista87/HANKSOME/issues" class="block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                        <i class="fas fa-bug text-2xl text-gray-700 mb-2"></i>
                        <h4 class="font-semibold">Report Issues</h4>
                        <p class="text-sm text-gray-600">Found a bug? Let me know!</p>
                    </a>
                </div>
                
                <div class="mt-6 p-4 bg-green-50 rounded-lg">
                    <h4 class="font-semibold text-green-800 mb-2">
                        <i class="fas fa-terminal mr-2"></i>Quick Start
                    </h4>
                    <div class="code-block">
                        <pre style="margin:0;"><code># Clone repository
git clone https://github.com/altavista87/HANKSOME.git
cd HANKSOME

# Install dependencies
julia --project=. -e 'using Pkg; Pkg.instantiate()'

# Run main analysis
julia --project=. scripts/run_malaysia_analysis.jl

# Generate figures
julia --project=. scripts/generate_figures.jl</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Citation -->
        <section class="mb-12">
            <div class="bg-primary text-white rounded-lg p-6">
                <h3 class="font-bold text-lg mb-3">
                    <i class="fas fa-quote-left mr-2"></i>How to Cite This Work
                </h3>
                <p class="text-sm opacity-90 mb-3">
                    This is an independent citizen science project. If you use these methods or findings:
                </p>
                <div class="bg-white/10 rounded p-3 font-mono text-sm">
                    altavista87. (2025). EngramHANK.jl: A citizen science approach to 
                    heterogeneous agent macroeconomic modeling. GitHub repository. 
                    https://github.com/altavista87/HANKSOME
                </div>
                <p class="text-xs opacity-75 mt-3">
                    <strong>Note:</strong> This is not peer-reviewed research. Please acknowledge 
                    the citizen science nature of this work in any citations.
                </p>
            </div>
        </section>

        <!-- Feedback -->
        <section class="text-center py-8 border-t">
            <h3 class="font-bold text-xl mb-3">Questions or Feedback?</h3>
            <p class="text-gray-600 mb-4">
                I'm learning in public. If you spot errors or have suggestions for improvement, 
                I'd love to hear from you.
            </p>
            <div class="flex justify-center gap-4">
                <a href="https://github.com/altavista87/HANKSOME/issues" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-secondary transition">
                    <i class="fab fa-github mr-2"></i>Open an Issue
                </a>
                <a href="https://github.com/altavista87/HANKSOME/discussions" class="border border-primary text-primary px-6 py-2 rounded-lg hover:bg-primary hover:text-white transition">
                    <i class="fas fa-comments mr-2"></i>Start a Discussion
                </a>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <p class="text-gray-400 text-sm">
                Methodology documentation for EngramHANK.jl ‚Ä¢ 
                <a href="https://github.com/altavista87/HANKSOME" class="text-blue-400 hover:text-blue-300">View on GitHub</a>
            </p>
            <p class="text-gray-500 text-xs mt-2">
                Citizen science project by altavista87 ‚Ä¢ Not peer-reviewed ‚Ä¢ 2025
            </p>
        </div>
    </footer>

</body>
</html>
